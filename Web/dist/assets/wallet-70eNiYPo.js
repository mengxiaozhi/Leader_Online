import{_ as P,r as v,f as y,c as n,a as t,d as k,t as o,n as W,F as h,g as C,h as a,i as w,o as i}from"./index-B6rpggr8.js";const q={class:"pt-6 pb-12 px-4"},G={class:"max-w-6xl mx-auto"},H={class:"bg-white shadow-sm border-b border-gray-100 mb-8 p-6"},J={class:"flex items-center justify-between"},K={class:"flex items-center space-x-4"},O={class:"bg-red-50 text-red-700 px-4 py-2 text-sm font-medium"},Q={class:"relative mb-12"},U={class:"flex justify-center border-b border-gray-200 relative"},X=["onClick"],Y={key:0,class:"slide-in"},Z={class:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8"},tt={class:"text-3xl font-bold text-gray-900"},et={class:"text-3xl font-bold text-green-600"},st={class:"text-3xl font-bold text-red-600"},lt={class:"flex gap-3 mb-6"},ot={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8"},at={class:"flex items-start justify-between mb-4"},nt={class:"text-xl font-bold text-[#D90000]"},it={class:"text-sm text-gray-500"},rt={class:"text-sm font-mono bg-gray-50 p-2 text-gray-700 break-all mb-4"},dt=["disabled","onClick"],ut={key:1,class:"slide-in"},vt={class:"flex gap-3 mb-6"},ct={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8"},pt={class:"flex items-start justify-between mb-4"},bt={class:"text-xl font-bold text-[#D90000]"},gt={class:"text-sm text-gray-500"},xt={class:"text-sm font-mono bg-gray-50 p-2 text-gray-700 break-all mb-4"},yt=["disabled","onClick"],mt={key:2,class:"fixed inset-0 bg-black bg-opacity-40 flex justify-center items-center z-50"},ft={class:"bg-white p-6 shadow-lg max-w-md w-full relative"},kt={class:"mt-2"},wt={key:0,class:"mt-4 text-center"},_t={class:"text-2xl font-bold text-[#D90000] tracking-widest"},c="px-4 py-2 bg-[#D90000] text-white font-medium",p="px-4 py-2 bg-gray-100 text-gray-700 hover:bg-gray-200",ht={__name:"wallet",setup(Ct){const F=[{key:"tickets",label:"我的票券"},{key:"reservations",label:"我的預約"}],m=v("tickets"),T=v(0),M=(l,e)=>{m.value=l,T.value=e},r=v([{type:"小鐵人",expiry:"2025-12-31",uuid:"a1",used:!1},{type:"大鐵人",expiry:"2025-08-01",uuid:"b2",used:!1},{type:"滑步車",expiry:"2025-10-15",uuid:"c3",used:!0},{type:"VIP票",expiry:"2026-01-01",uuid:"d4",used:!1}]),D=y(()=>r.value.length),z=y(()=>r.value.filter(l=>!l.used).length),R=y(()=>r.value.filter(l=>l.used).length),b=v("all"),V=y(()=>b.value==="available"?r.value.filter(l=>!l.used):b.value==="used"?r.value.filter(l=>l.used):r.value),g=l=>{b.value=l},I=l=>{r.value[l].used||(r.value[l].used=!0,alert(`票券「${r.value[l].type}」已成功使用！`))},$=[{ticketType:"滑步車",store:"桃園藝文門市",event:"親子滑步趣跑賽",reservedAt:"2025-07-21 10:00",verifyCode:"824631",status:"pickup"},{ticketType:"腳踏車",store:"新北三重門市",event:"家庭逍遙遊",reservedAt:"2025-07-23 14:30",verifyCode:"",status:"pending"},{ticketType:"滑步車",store:"高雄夢時代門市",event:"童樂滑步賽",reservedAt:"2025-07-19 09:00",verifyCode:"114522",status:"done"}],A={pending:"待交車",pickup:"取車中",done:"已完成"},B={pending:"bg-yellow-100 text-yellow-700",pickup:"bg-blue-100 text-blue-700",done:"bg-green-100 text-green-700"},u=v("all"),L=y(()=>u.value==="all"?$:$.filter(l=>l.status===u.value)),f=l=>{u.value=l},_=v(!1),d=v({}),N=l=>{d.value=l,_.value=!0},S=()=>_.value=!1,E=l=>new Date(l).toLocaleDateString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit"});return(l,e)=>(i(),n("main",q,[t("div",G,[t("header",H,[t("div",J,[e[10]||(e[10]=t("div",null,[t("h1",{class:"text-2xl font-bold text-gray-900"},"票券管理中心"),t("p",{class:"text-gray-600 mt-1"},"管理您的所有票券與預約紀錄")],-1)),t("div",K,[t("div",O," 共 "+o(D.value)+" 張票券 ",1)])])]),t("div",Q,[t("div",U,[t("div",{class:"tab-indicator",style:W({left:T.value*50+"%",width:"50%"})},null,4),(i(),n(h,null,C(F,(s,x)=>t("button",{key:s.key,onClick:j=>M(s.key,x),class:a(["relative px-8 py-4 font-semibold transition-all duration-300 text-lg",m.value===s.key?"text-[#D90000]":"text-gray-500 hover:text-[#B00000]"])},o(s.label),11,X)),64))])]),m.value==="tickets"?(i(),n("section",Y,[t("div",Z,[t("div",{onClick:e[0]||(e[0]=s=>g("all")),class:"cursor-pointer bg-white p-6 border border-gray-200 shadow-sm hover:border-[#D90000]"},[e[11]||(e[11]=t("p",{class:"text-sm text-gray-600 font-medium"},"總票券數",-1)),t("p",tt,o(D.value),1)]),t("div",{onClick:e[1]||(e[1]=s=>g("available")),class:"cursor-pointer bg-white p-6 border border-gray-200 shadow-sm hover:border-[#D90000]"},[e[12]||(e[12]=t("p",{class:"text-sm text-gray-600 font-medium"},"可用票券",-1)),t("p",et,o(z.value),1)]),t("div",{onClick:e[2]||(e[2]=s=>g("used")),class:"cursor-pointer bg-white p-6 border border-gray-200 shadow-sm hover:border-[#D90000]"},[e[13]||(e[13]=t("p",{class:"text-sm text-gray-600 font-medium"},"已使用",-1)),t("p",st,o(R.value),1)])]),t("div",lt,[t("button",{onClick:e[3]||(e[3]=s=>g("all")),class:a(b.value==="all"?c:p)},"全部",2),t("button",{onClick:e[4]||(e[4]=s=>g("available")),class:a(b.value==="available"?c:p)},"可用",2),t("button",{onClick:e[5]||(e[5]=s=>g("used")),class:a(b.value==="used"?c:p)},"已使用",2)]),t("div",ot,[(i(!0),n(h,null,C(V.value,(s,x)=>(i(),n("div",{key:s.uuid,class:a(["ticket-card bg-white border-2 border-gray-100 p-6 shadow-sm",s.used?"opacity-60":""])},[t("div",at,[t("div",null,[t("h3",nt,"🎫 "+o(s.type),1),t("p",it,"使用期限："+o(E(s.expiry)),1)]),t("span",{class:a(["px-3 py-1 text-xs font-semibold",s.used?"bg-green-100 text-green-700":"bg-red-100 text-red-700"])},o(s.used?"已使用":"未使用"),3)]),e[14]||(e[14]=t("p",{class:"text-xs text-gray-500 mb-1"},"票券編號",-1)),t("p",rt,o(s.uuid),1),t("button",{class:a(["w-full py-3 font-semibold text-white",s.used?"bg-gray-400 cursor-not-allowed":"bg-[#D90000] hover:bg-[#B00000] transition"]),disabled:s.used,onClick:j=>I(x)},o(s.used?"已使用 ✅":"使用票券"),11,dt)],2))),128))])])):k("",!0),m.value==="reservations"?(i(),n("section",ut,[t("div",vt,[t("button",{onClick:e[6]||(e[6]=s=>f("all")),class:a(u.value==="all"?c:p)},"全部",2),t("button",{onClick:e[7]||(e[7]=s=>f("pending")),class:a(u.value==="pending"?c:p)},"待交車",2),t("button",{onClick:e[8]||(e[8]=s=>f("pickup")),class:a(u.value==="pickup"?c:p)},"取車中",2),t("button",{onClick:e[9]||(e[9]=s=>f("done")),class:a(u.value==="done"?c:p)},"已完成",2)]),t("div",ct,[(i(!0),n(h,null,C(L.value,(s,x)=>(i(),n("div",{key:x,class:a(["ticket-card bg-white border-2 border-gray-100 p-6 shadow-sm",s.status==="done"?"opacity-60":""])},[t("div",pt,[t("div",null,[t("h3",bt,"📌 "+o(s.ticketType),1),t("p",gt,"預約時間："+o(s.reservedAt),1)]),t("span",{class:a(["px-3 py-1 text-xs font-semibold",B[s.status]])},o(A[s.status]),3)]),e[15]||(e[15]=t("p",{class:"text-xs text-gray-500 mb-1"},"門市 / 賽事",-1)),t("p",xt,o(s.store)+" ｜ "+o(s.event),1),t("button",{class:a(["w-full py-3 font-semibold text-white",s.status==="done"?"bg-gray-400 cursor-not-allowed":"bg-[#D90000] hover:bg-[#B00000] transition"]),disabled:s.status==="done",onClick:j=>N(s)},o(s.status==="done"?"已完成 ✅":"查看詳情"),11,yt)],2))),128))])])):k("",!0),_.value?(i(),n("div",mt,[t("div",ft,[t("button",{onClick:S,class:"absolute top-3 right-3 text-gray-500 hover:text-red-500"},"✕"),e[22]||(e[22]=t("h3",{class:"text-xl font-bold text-[#D90000] mb-4"},"預約詳情",-1)),t("p",null,[e[16]||(e[16]=t("strong",null,"票券類型：",-1)),w(o(d.value.ticketType),1)]),t("p",null,[e[17]||(e[17]=t("strong",null,"門市：",-1)),w(o(d.value.store),1)]),t("p",null,[e[18]||(e[18]=t("strong",null,"賽事：",-1)),w(o(d.value.event),1)]),t("p",null,[e[19]||(e[19]=t("strong",null,"預約時間：",-1)),w(o(d.value.reservedAt),1)]),t("p",kt,[e[20]||(e[20]=t("strong",null,"狀態：",-1)),t("span",{class:a(["px-2 py-1 text-xs",B[d.value.status]])},o(A[d.value.status]),3)]),d.value.status==="pickup"?(i(),n("div",wt,[e[21]||(e[21]=t("p",{class:"text-sm text-gray-700 mb-1 font-medium"},"取車驗證碼",-1)),t("div",_t,o(d.value.verifyCode),1)])):k("",!0)])])):k("",!0)])]))}},Dt=P(ht,[["__scopeId","data-v-7e9a1fad"]]);export{Dt as default};
